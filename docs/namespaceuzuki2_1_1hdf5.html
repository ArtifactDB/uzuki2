<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>uzuki2: uzuki2::hdf5 Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">uzuki2
   </div>
   <div id="projectbrief">Recovering R lists faithfully from HDF5 or JSON</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceuzuki2.html">uzuki2</a></li><li class="navelem"><a class="el" href="namespaceuzuki2_1_1hdf5.html">hdf5</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">uzuki2::hdf5 Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Parse an R list from a HDF5 file.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="structuzuki2_1_1hdf5_1_1Options.html" title="Options for HDF5 file parsing.">Options</a> for HDF5 file parsing.  <a href="structuzuki2_1_1hdf5_1_1Options.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a44c67c6de55c5b336e6fb49579cf0f55" id="r_a44c67c6de55c5b336e6fb49579cf0f55"><td class="memTemplParams" colspan="2">template&lt;class Provisioner_ , class Externals_ &gt; </td></tr>
<tr class="memitem:a44c67c6de55c5b336e6fb49579cf0f55"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structuzuki2_1_1ParsedList.html">ParsedList</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a44c67c6de55c5b336e6fb49579cf0f55">parse</a> (const H5::Group &amp;handle, Externals_ ext, const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;options)</td></tr>
<tr class="separator:a44c67c6de55c5b336e6fb49579cf0f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a6cbc1d27b48ce3a862001a1948ed33" id="r_a7a6cbc1d27b48ce3a862001a1948ed33"><td class="memTemplParams" colspan="2">template&lt;class Provisioner_ , class Externals_ &gt; </td></tr>
<tr class="memitem:a7a6cbc1d27b48ce3a862001a1948ed33"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="structuzuki2_1_1ParsedList.html">ParsedList</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a7a6cbc1d27b48ce3a862001a1948ed33">parse</a> (const std::string &amp;file, const std::string &amp;name, Externals_ ext, <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> options=<a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a>())</td></tr>
<tr class="separator:a7a6cbc1d27b48ce3a862001a1948ed33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c3b06098aebbda4fcf51d32d8b340f4" id="r_a2c3b06098aebbda4fcf51d32d8b340f4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c3b06098aebbda4fcf51d32d8b340f4">validate</a> (const H5::Group &amp;handle, int num_external, const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;options)</td></tr>
<tr class="separator:a2c3b06098aebbda4fcf51d32d8b340f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1c31322ccc10abce8b9fb1b7da9b61" id="r_aff1c31322ccc10abce8b9fb1b7da9b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff1c31322ccc10abce8b9fb1b7da9b61">validate</a> (const std::string &amp;file, const std::string &amp;name, int num_external, const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;options)</td></tr>
<tr class="separator:aff1c31322ccc10abce8b9fb1b7da9b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Parse an R list from a HDF5 file. </p>
<p>The hierarchical nature of HDF5 allows it to naturally store nested list structures. It supports random access of list components, which provides some optimization opportunities for parsing large lists. However, it incurs a large overhead per list element; for small lists, users may prefer to use a JSON file instead (see <code>json</code>). </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a44c67c6de55c5b336e6fb49579cf0f55" name="a44c67c6de55c5b336e6fb49579cf0f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44c67c6de55c5b336e6fb49579cf0f55">&#9670;&#160;</a></span>parse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Provisioner_ , class Externals_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structuzuki2_1_1ParsedList.html">ParsedList</a> uzuki2::hdf5::parse </td>
          <td>(</td>
          <td class="paramtype">const H5::Group &amp;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Externals_</td>          <td class="paramname"><span class="paramname"><em>ext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Provisioner_</td><td>A class namespace defining static methods for creating new <code><a class="el" href="classuzuki2_1_1Base.html" title="Base interface for all R objects.">Base</a></code> objects. </td></tr>
    <tr><td class="paramname">Externals_</td><td>Class describing how to resolve external references for type <code>EXTERNAL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle for a HDF5 group corresponding to the list. </td></tr>
    <tr><td class="paramname">ext</td><td>Instance of an external reference resolver class. </td></tr>
    <tr><td class="paramname">options</td><td>Optional parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="structuzuki2_1_1ParsedList.html" title="Results of parsing a list from file.">ParsedList</a></code> containing a pointer to the root <code><a class="el" href="classuzuki2_1_1Base.html" title="Base interface for all R objects.">Base</a></code> object. Depending on <code>Provisioner_</code>, this may contain references to all nested objects.</dd></dl>
<p>Any invalid representations in <code>contents</code> will cause an error to be thrown.</p>
<h1><a class="anchor" id="provisioner-contract"></a>
Provisioner requirements</h1>
<p>The <code>Provisioner_</code> class is expected to provide the following static methods:</p>
<ul>
<li><code>Nothing* new_Nothing()</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1Nothing.html" title="Representation of R&#39;s NULL.">Nothing</a></code> subclass.</li>
<li><code>Other* new_Other(void* p)</code>, which returns a new instance of a <code>Other</code> subclass. <code>p</code> is a pointer to an "external" object, generated by calling <code>ext.get()</code> (see below).</li>
<li><code>List* new_List(size_t l, bool n)</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1List.html" title="Interface for lists.">List</a></code> with length <code>l</code>. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1List.html#a16d57dcda0cb9c8ffa7724d16473a4ff">List::set_name()</a></code>.</li>
<li><code>IntegerVector* new_Integer(size_t l, bool n, bool s)</code>, which returns a new instance of an <code><a class="el" href="classuzuki2_1_1IntegerVector.html" title="Interface for integer vectors.">IntegerVector</a></code> subclass of length <code>l</code>. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1Vector.html#a42f996bcbb75853274f004a29fe2da8f">Vector::set_name()</a></code>. If <code>s = true</code> and <code>l = 1</code>, the value was represented on file as a scalar integer.</li>
<li><code>NumberVector* new_Number(size_t l, bool n, bool s)</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1NumberVector.html" title="Interface for a double-precision vector.">NumberVector</a></code> subclass of length <code>l</code>. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1Vector.html#a42f996bcbb75853274f004a29fe2da8f">Vector::set_name()</a></code>. If <code>s = true</code> and <code>l = 1</code>, the value was represented on file as a scalar float.</li>
<li><code>StringVector* new_String(size_t l, bool n, bool s, StringVector::Format f)</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1StringVector.html" title="Interface for a string vector.">StringVector</a></code> subclass of length <code>l</code> with format <code>f</code>. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1Vector.html#a42f996bcbb75853274f004a29fe2da8f">Vector::set_name()</a></code>. If <code>s = true</code> and <code>l = 1</code>, the value was represented on file as a scalar string.</li>
<li><code>BooleanVector* new_Boolean(size_t l, bool n, bool s)</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1BooleanVector.html" title="Interface for a boolean vector.">BooleanVector</a></code> subclass of length <code>l</code>. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1Vector.html#a42f996bcbb75853274f004a29fe2da8f">Vector::set_name()</a></code>. If <code>s = true</code> and <code>l = 1</code>, the value was represented on file as a scalar boolean.</li>
<li><code>Factor* new_Factor(size_t l, bool n, bool s, size_t ll, bool o)</code>, which returns a new instance of a <code><a class="el" href="classuzuki2_1_1Factor.html" title="Interface for a factor.">Factor</a></code> subclass of length <code>l</code> and with <code>ll</code> unique levels. If <code>n = true</code>, names are present and will be added via <code><a class="el" href="classuzuki2_1_1Vector.html#a42f996bcbb75853274f004a29fe2da8f">Vector::set_name()</a></code>. If <code>s = true</code> and <code>l = 1</code>, the lone index was represented on file as a scalar integer. If <code>o = true</code>, the levels should be assumed to be sorted.</li>
</ul>
<h1><a class="anchor" id="external-contract"></a>
Externals requirements</h1>
<p>The <code>Externals_</code> class is expected to provide the following <code>const</code> methods:</p>
<ul>
<li><code>void* get(size_t i) const</code>, which returns a pointer to an "external" object, given the index of that object. This will be stored in the corresponding <code>Other</code> subclass generated by <code>Provisioner_::new_External</code>.</li>
<li><code>size_t size()</code>, which returns the number of available external references. </li>
</ul>

</div>
</div>
<a id="a7a6cbc1d27b48ce3a862001a1948ed33" name="a7a6cbc1d27b48ce3a862001a1948ed33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a6cbc1d27b48ce3a862001a1948ed33">&#9670;&#160;</a></span>parse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Provisioner_ , class Externals_ &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structuzuki2_1_1ParsedList.html">ParsedList</a> uzuki2::hdf5::parse </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Externals_</td>          <td class="paramname"><span class="paramname"><em>ext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a></td>          <td class="paramname"><span class="paramname"><em>options</em></span><span class="paramdefsep"> = </span><span class="paramdefval"><a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a>()</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse HDF5 file contents using the <b><a class="el" href="namespaceuzuki2.html" title="Parse an R list from a HDF5 or JSON file.">uzuki2</a></b> specification, given the file path.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Provisioner_</td><td>A class namespace defining static methods for creating new <code><a class="el" href="classuzuki2_1_1Base.html" title="Base interface for all R objects.">Base</a></code> objects. </td></tr>
    <tr><td class="paramname">Externals_</td><td>Class describing how to resolve external references for type <code>EXTERNAL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Path to a HDF5 file. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the HDF5 group containing the list in <code>file</code>. </td></tr>
    <tr><td class="paramname">ext</td><td>Instance of an external reference resolver class. </td></tr>
    <tr><td class="paramname">options</td><td>Optional parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code><a class="el" href="structuzuki2_1_1ParsedList.html" title="Results of parsing a list from file.">ParsedList</a></code> containing a pointer to the root <code><a class="el" href="classuzuki2_1_1Base.html" title="Base interface for all R objects.">Base</a></code> object. Depending on <code>Provisioner_</code>, this may contain references to all nested objects.</dd></dl>
<p>Any invalid representations in <code>contents</code> will cause an error to be thrown. </p>

</div>
</div>
<a id="a2c3b06098aebbda4fcf51d32d8b340f4" name="a2c3b06098aebbda4fcf51d32d8b340f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3b06098aebbda4fcf51d32d8b340f4">&#9670;&#160;</a></span>validate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uzuki2::hdf5::validate </td>
          <td>(</td>
          <td class="paramtype">const H5::Group &amp;</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_external</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validate HDF5 file contents against the <b><a class="el" href="namespaceuzuki2.html" title="Parse an R list from a HDF5 or JSON file.">uzuki2</a></b> specification, given the group handle. Any invalid representations will cause an error to be thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Handle for a HDF5 group corresponding to the list. </td></tr>
    <tr><td class="paramname">num_external</td><td>Expected number of external references. </td></tr>
    <tr><td class="paramname">options</td><td>Optional parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aff1c31322ccc10abce8b9fb1b7da9b61" name="aff1c31322ccc10abce8b9fb1b7da9b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1c31322ccc10abce8b9fb1b7da9b61">&#9670;&#160;</a></span>validate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void uzuki2::hdf5::validate </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_external</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structuzuki2_1_1hdf5_1_1Options.html">Options</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Validate HDF5 file contents against the <b><a class="el" href="namespaceuzuki2.html" title="Parse an R list from a HDF5 or JSON file.">uzuki2</a></b> specification, given the file path. Any invalid representations will cause an error to be thrown.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Path to a HDF5 file. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the HDF5 group containing the list in <code>file</code>. </td></tr>
    <tr><td class="paramname">num_external</td><td>Expected number of external references. </td></tr>
    <tr><td class="paramname">options</td><td>Optional parameters. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
